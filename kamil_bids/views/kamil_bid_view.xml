<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<record id="kamil_bid_tree_view" model="ir.ui.view">
		<field name="name">Bid Tree View</field>
		<field name="model">kamil.bid</field>
		<field name="arch" type="xml">
			<tree>
				<field name="number"/>
				<field name="name"/>
				<field name="date"/>
				<field name="state"/>
			</tree>
		</field>
	</record>
	

	<record id="kamil_bid_form_view" model="ir.ui.view">
		<field name="name">Bid Form View</field>
		<field name="model">kamil.bid</field>
		<field name="arch" type="xml">
			<form>
				<header>
					<button name="do_open" string="Open" type="object" class="btn btn-primary" states="draft"/>
					<button name="do_close" string="Close" type="object" class="btn btn-primary" states="open"/>
					<field name="state" widget="statusbar"/>
				</header>
				<sheet>
					
					<div class="oe_button_box" name="button_box">
         				<button class ="oe_stat_button" name="action_view_sales_orders" attrs="{'invisible':[('state','=','draft')]}" string="Sales Orders" type="object" icon="fa-tasks"/>
              		</div>
		
					<label for="number" class="oe_edit_only"/>
					<field name="number" readonly="1"/>
					<br/>
					<label for="name" class="oe_edit_only"/>
					<h2><field name="name"  required="1" attrs="{'readonly':[('state','!=','draft')]}"/></h2>

					<group col="4">
						<field name="forest_id" domain="[('type','=','forest')]" options="{'no_create':True}"/>
						<field name="date" required="1" options="{'no_create':True}"/>
					</group>
					<notebook>
						<page string="Lines">
							<field name="line_ids">
								<tree editable="bottom">
									<field name="product_id" options="{'no_create':True}" required="1" domain="[('is_forests_product','=',True)]"/>
									<field name="product_quantity" options="{'no_create':True}" required="1"/>
									<field name="product_uom_id" options="{'no_create':True}" required="1"/>
									<field name="price" required="1"/>
								</tree>
							</field>
						</page>
					</notebook>

				</sheet>
			</form>
		</field>
	</record>


	<record id="action_bids" model="ir.actions.act_window">
		<field name="name">Bids</field>
		<field name="res_model">kamil.bid</field>
		<field name="view_mode">tree,form</field>
	</record>


	<record id="action_bid_sale_orders" model="ir.actions.act_window">
		<field name="name">Sale Orders</field>
		<field name="res_model">sale.order</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[('the_bid_id','!=', False)]</field>
	</record>



	<menuitem id="kamil_bid_main_menu" name="Forests And Nurseries" web_icon="kamil_bids,static/description/icon.png" groups="kamil_bids.bids_manager,kamil_bids.bids_employee"/>




	<menuitem id="kamil_bid_menu" name="Bids" parent="kamil_bid_main_menu"/>

	<menuitem id="kamil_bid_sub_menu" name="Bids" parent="kamil_bid_menu" action="action_bids"/>
	
	<menuitem id="kamil_bid_sales_orders_menu" name="Sale Orders" parent="kamil_bid_main_menu" action="action_bid_sale_orders"/>


	<menuitem id="kamil_bid_sales_orders_report_menu" name="Reports" parent="kamil_bid_main_menu" action="sale.action_order_report_all"/>


	<record id="sale_order_inherit" model="ir.ui.view">
		<field name="name">Sale Order Inherit</field>
		<field name="model">sale.order</field>
		<field name="inherit_id" ref="sale.view_order_form"/>
		<field name="arch" type="xml">
			<notebook position="before">
				<group>
					<field name="the_bid_id" attrs="{'invisible':[('the_bid_id','=',False)]}" readonly="1"/>
				</group>
			</notebook>
		</field>
	</record>


	

	<record id="product_form_inherit_view" model="ir.ui.view">
		<field name="name">Product Inherit</field>
		<field name="model">product.template</field>
		<field name="inherit_id" ref="kamil_agricultural_unit.product_form_inherit_view"/>
		<field name="arch" type="xml">
			<page name="agricultural_data" position="inside">
				<group>
					<field name="is_forests_product"/>
				</group>
			</page>
		</field>
	</record>


	<record id="action_forest" model="ir.actions.act_window">
		<field name="name">Forests</field>
		<field name="res_model">kamil.farm</field> 
		<field name="view_mode">kanban,tree,form</field>
		<field name="context">{'default_type':'forest'}</field>
		<field name="domain">[('type','=','forest')]</field>
		<field name="view_ids" eval="[(5, 0, 0),(0,0, {'view_mode': 'kanban', 'view_id': ref('kamil_agricultural_unit.forest_kanban_view')}),(0,0, {'view_mode': 'tree', 'view_id': ref('kamil_agricultural_unit.forest_tree_view')}) , (0,0, {'view_mode': 'form', 'view_id': ref('kamil_agricultural_unit.forest_form_view')}) ]"/>
	</record>

	
	<menuitem id="kamil_master_data_menu" name="Master Data" parent="kamil_bid_main_menu" sequence="0"/>
	<menuitem id="kamil_forests_menu" name="Forests" parent="kamil_master_data_menu" action="action_forest"/>


	<record id="action_nursery" model="ir.actions.act_window">
		<field name="name">Nurseries</field>
		<field name="res_model">kamil.nursery</field> 
		<field name="view_mode">kanban,tree,form</field>
		<field name="help">Click To Create New Record</field>
	</record>

	<menuitem id="kamil_nursery_menu" name="Nurseries" parent="kamil_master_data_menu" action="action_nursery"/>



	<record id="action_product" model="ir.actions.act_window">
		<field name="name">Products</field>
		<field name="res_model">product.template</field> 
		<field name="view_mode">kanban,tree,form</field>
		<field name="context">{'default_is_forests_product':True}</field>
		<field name="domain">[('is_forests_product','=',True)]</field>
	</record>

	<menuitem id="kamil_product_menu" name="Products" parent="kamil_master_data_menu" action="action_product"/>








</odoo>